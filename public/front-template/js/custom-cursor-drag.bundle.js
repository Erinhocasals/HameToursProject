(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{436:function(t,i,n){"use strict";n.r(i);n(64),n(42);var e=n(0),s=n(105),o=n(248),a=n(9);function r(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function l(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}var u=function(){function t(i){var n=this,r=i.el;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"_mouseDownHandler",(function(){n._isAnimating||(n._tlPress||(n._tlPress=e.a.timeline(),n._tlPress.to(n.ui.inner,{scale:.6,duration:.6,ease:"sine.out"}),n._tlPress.to(n.ui.dots[0],{x:-30,duration:.6,ease:a.a},0),n._tlPress.to(n.ui.dots[1],{x:30,duration:.6,ease:a.a},0)),n._tlPress.play(0))})),l(this,"_mouseUpHandler",(function(){n._tlPress&&n._tlPress.reverse()})),l(this,"_tickHandler",(function(){n._setPosition(),n._setTransform()})),l(this,"_customCursorChangeTypeHandler",(function(t){t===s.a.drag?n._transitionIn():n._transitionOut()})),l(this,"_tweenStartHandler",(function(){n._isAnimating=!0})),l(this,"_tweenCompleteHandler",(function(){n._isAnimating=!1})),this.el=r,this._isAnimating=!1,this.ui={inner:this.el.querySelector(".js-inner"),outline:this.el.querySelector(".js-outline"),dots:[this.el.querySelector(".js-dot-left"),this.el.querySelector(".js-dot-right")]},this.components={outline:new o.a({el:this.ui.outline})},this._setupEventListeners()}var i,n,u;return i=t,(n=[{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_transitionIn",value:function(){this.el.style.willChange="transform",this._tlTransitionIn&&this._tlTransitionIn.kill(),this._tlTransitionOut&&this._tlTransitionOut.kill(),this._tlTransitionIn=e.a.timeline({onStart:this._tweenStartHandler,onComplete:this._tweenCompleteHandler}),this._tlTransitionIn.add(this.components.outline.getTweenTransitionIn(),0),this._tlTransitionIn.to(this.ui.inner,{scale:1,duration:.6,ease:a.a},0),this._tlTransitionIn.to(this.ui.inner,{autoAlpha:1,duration:.6,ease:"sine.inOut"},0),this._tlTransitionIn.to(this.ui.dots,{x:0,duration:.6,ease:a.a},.4),this._tlTransitionIn.to(this.ui.dots,{autoAlpha:1,duration:.6,ease:"sine.inOut"},.4)}},{key:"_transitionOut",value:function(){this.el.style.willChange="auto",this._tlTransitionIn&&this._tlTransitionIn.kill(),this._tlTransitionOut&&this._tlTransitionOut.kill(),this._tlTransitionOut=e.a.timeline({onStart:this._tweenStartHandler,onComplete:this._tweenCompleteHandler}),this._tlTransitionOut.add(this.components.outline.getTweenTransitionOut(),0),this._tlTransitionOut.to(this.ui.inner,{scale:0,ease:"sine.out"},0),this._tlTransitionOut.to(this.ui.inner,{autoAlpha:0,ease:"none"},0),this._tlTransitionOut.to(this.ui.dots[0],{x:-30,duration:.4,ease:a.a},0),this._tlTransitionOut.to(this.ui.dots[0],{autoAlpha:0,duration:.4,ease:"sine.out"},0),this._tlTransitionOut.to(this.ui.dots[1],{x:30,duration:.4,ease:a.a},0),this._tlTransitionOut.to(this.ui.dots[1],{autoAlpha:0,duration:.4,ease:"sine.out"},0)}},{key:"_setTarget",value:function(){this._target=s.b.position}},{key:"_setPosition",value:function(){this._position||(this._position={},this._position.x=s.b.position.x||0,this._position.y=s.b.position.y||0),this._position.x=e.a.utils.interpolate(this._position.x,s.b.position.x||0,.09),this._position.y=e.a.utils.interpolate(this._position.y,s.b.position.y||0,.09)}},{key:"_setTransform",value:function(){this.el.style.transform="matrix(1.0, 0.0, 0.0, 1.0, ".concat(this._position.x,", ").concat(this._position.y,")")}},{key:"_setupEventListeners",value:function(){s.b.addEventListener("change:type",this._customCursorChangeTypeHandler),window.addEventListener("mousedown",this._mouseDownHandler),window.addEventListener("mouseup",this._mouseUpHandler),e.a.ticker.add(this._tickHandler)}},{key:"_removeEventListeners",value:function(){s.b.removeEventListener("change:type",this._customCursorChangeTypeHandler),window.removeEventListener("mousedown",this._mouseDownHandler),window.removeEventListener("mouseup",this._mouseUpHandler),e.a.ticker.remove(this._tickHandler)}}])&&r(i.prototype,n),u&&r(i,u),t}();i.default=u}}]);