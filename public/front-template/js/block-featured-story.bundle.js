(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{462:function(e,i,n){"use strict";n.r(i);n(239),n(241),n(240);var t=n(2),r=n(68),a=n(0),s=n(5),o=n(33),l=n(119);function c(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var u=function(){function e(i){var n=i.el,t=i.odd;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=n,this.ui={container:this.el.querySelector(".js-container"),image:this.el.querySelector(".js-image")},this.components={container:void 0,image:void 0},o.adaptive.isMediaQueryActive("wide"),o.adaptive.isMediaQueryActive("wide")&&(this.components.container=new l.a({el:this.el,offset:t?125:25}))}var i,n,t;return i=e,(n=[{key:"getTweenParallax",value:function(e){var i=e.container,n=e.image,t=e.ease,r=a.a.timeline();return r.fromTo(this.el,{y:s.resizeManager.rem(i)},{y:s.resizeManager.rem(-i),ease:t||"sine.inOut"},0),r.fromTo(this.ui.image,{y:s.resizeManager.rem(-n)},{y:s.resizeManager.rem(n),duration:.8,ease:t||"sine.inOut"},.2),r}}])&&c(i.prototype,n),t&&c(i,t),e}();function h(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function d(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}var v=function(){function e(i){var n=this,r=i.el;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"_handleScrollTrackerChangeProgress",(function(e){e>.15&&(n._tlTransitionIn||(n._tlTransitionIn=a.a.timeline(),n._tlTransitionIn.to(n.ui.subheading,{autoAlpha:1,duration:.6,ease:"sine.inOut"},0),n._tlTransitionIn.add(n.components.heading.getTweenTransitionIn(),.2)),n._transitionInRequested&&(n._transitionInRequested=!1,n._tlTransitionIn.play(0)))})),d(this,"_handleScrollTrackerChangeVisibility",(function(e){e===t.b.hidden&&n._scrollTracker.progress<.5&&(n._transitionInit(),n._transitionReset())})),this.el=r,this.ui={subheading:this.el.querySelector(".js-subheading"),heading:this.el.querySelector(".js-heading"),featuredStories:a.a.utils.toArray(this.el.querySelectorAll(".js-featured-story"))};var s=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(n._create(),s.unobserve(n.el))}))}));s.observe(this.el)}var i,n,s;return i=e,(n=[{key:"_create",value:function(){this.components={heading:new r.a({el:this.ui.heading}),featuredStories:this.ui.featuredStories.map((function(e,i){return new u({el:e,odd:i%2})}))},this._transitionInit(),this._transitionReset(),this._scrollTracker=t.c.track({element:this.el,container:"pages"}),this._setupEventListeners()}},{key:"destroy",value:function(){t.c.untrack(this._scrollTracker),this._removeEventListeners(),this._killTimelines()}},{key:"_setupEventListeners",value:function(){this._scrollTracker.addEventListener("change:progress",this._handleScrollTrackerChangeProgress),this._scrollTracker.addEventListener("change:visibility",this._handleScrollTrackerChangeVisibility)}},{key:"_removeEventListeners",value:function(){this._scrollTracker.removeEventListener("change:progress",this._handleScrollTrackerChangeVisibility),this._scrollTracker.removeEventListener("change:visibility",this._handleScrollTrackerChangeProgress)}},{key:"_killTimelines",value:function(){this._tlParallax&&(this._tlParallax.kill(),this._tlParallax=null),this._tlTransitionIn&&(this._tlTransitionIn.kill(),this._tlTransitionIn=null)}},{key:"_transitionInit",value:function(){this.components.heading.transitionInit()/*,this.ui.subheading.style.visibility="hidden",this.ui.subheading.style.opacity=0*/}},{key:"_transitionReset",value:function(){this._transitionInRequested=!0}}])&&h(i.prototype,n),s&&h(i,s),e}();i.default=v}}]);
